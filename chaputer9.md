# Chaputer9　基本ソフトウェア

## osの仕事

### __os（基本ソフトウェア）__...ソフトウェアからハードウェアを動かす役割


> ### 基本ソフトウェア
>> __制御プログラム__
>>
>>>　ソフトウェアからハードウェアを動かす役割
>>>
>>>　基本的にほとんど制御プログラム
>>>
>> __言語処理プログラム__
>>>
>>> pythonなどのプログラムを読み取って動かす
>>>
>>> これがないと、プログラミング出来ない！！
>>> 
>> __サービスプログラム__
>>>
>>>その他諸々

### osの種類

- windows

- mac OS

- MS-DOS

- UNIX

- Linux

### アプリケーションによるosの使用

#### __API__とよばれる物を使って、アプリケーションはosの機能を呼び出す

## ジョブ管理

### ジョブと呼ばれる仕事をする(__ジョブ制御言語__を使う)

### ジョブ管理の流れ

### マスタスゲジューラというものがジョブを受け取り、ジョブスケジュラーに依頼する
>
> ### ジョブスケジューラーの中身
> リーダー...依頼されたジョブをジョブ待ち行列に登録する
>
>　イニシエ－タ...優先度の高いジョブをジョブステップに分解する
>
>　ターミネータ...実行を終えたジョブを出力待ち行列に登録する
>
> ライタ...ジョブの結果を出力する

### スプーリング...低速な装置とのやりとりを、高速な装置を介すことで、処理効率を高める方法

## タスク管理

### タスク...ジョブステップをさらに分けた、コンピューターから見た仕事

### タスクの状態
>
> 1.実行可能状態
>
> 2.実行状態
>
> 3.待機状態

### ディスパッチャとタスクスケジューリング

### ディスバッチャ...タスクにcpuの使用権を割り当てて、実行状態にする物

### タスクスケジューリング...タスクの実行順序を決める物

>- 到着順方式
>>
>>cpuが空くと、次のタスクを実行する
>>
>- 優先順方式
>>
>>優先度を設定して、優先度の高い順に実行する。
>>
>>優先度の高い物が追加されると、実行の途中でも、入れ替わる
>>
>- ラウンドロビン方式
>>
>>cpuの使用権を一定時間ごとに切り替える
>>
>>時間中に終わったら、次のタスクが実行し、終わらなかったら、待ち行列の最後に回される

### マルチプログラミング

### マルチプログラミング...複数のプログラムを同時に実行させる
>
>入出力をしている時に、cpuで処理をする等

### 割り込み処理...実行中のタスクを中断させて、別の処理に切り替え、終わったら元のタスクに復帰するという処理

## 実記憶管理

### 実記憶管理...主記憶空間を効率よく使えるようにすること
>### 固定区間方式
>>
>>主記憶に固定長の区間を設けて、そこにプログラムを読み込む
>>
>### 可変区間方式
>>
>>必要とするデーターのサイズ分区切り、そこにプログラムを読み込む
>>
>> #### フラグメーションとメモリコンパクション
>>
>> __フラグメンテーション__する場合がある
>>
>>解決するために再配置するこの操作を __メモリコンパクション__ という
>>
>>### オーバーレイ方式
>>
>>実行したいプログラムが、主記憶の容量以上な場合、プログラムをセグメントという単位に分けて、必要なセグメントだけを取り出して実行する
>>
>>### スワッピング方式
>>
>>優先度の高い物が来たときに、中断させて切り替えを行うが、このときに、優先度の低いプログラムを補助記憶装置に移動してプログラムを実行する

## 再配置可能プログラムをプログラムの4つの性質

### 再配置可能プログラム...cpuがプログラムを取り出す時に、メモリアドレスを必要とするが、どこに配置されても実行に問題が無いプログラム

### プログラムの4つの性質
>
>### 再配置可能
>
>どこに配置しても実行する事が出来る性質
>
>### 再使用可能
>
>再ロードすることなく繰り返し実行が出来る性質
>
>### 再入可能
>
>再使用可能プログラムにおいて、複数のタスクから呼び出しても互いに干渉することなく同時実行できる性質
>
>### 再帰的
>
>自分自身を呼び出すことが出来る性質

## 仮想記憶管理

### 仮想記憶管理...主記憶や補助記憶の存在を隠蔽することで、広大なメモリ空間を自由に使うことが出来るようにするもの

### 実記憶の容量よりも大きなサイズを提供する仕組み
>
>補助記憶装置をメモリの一部と見なして、実記憶装置よりも大きな容量を提供できる仕組み

### ぺーシング方式
>
>プログラムをページという単位に分割して管理する
>
>必要なページだけを主記憶に読み込む
>
>仮想記憶と主記憶の対応付は、ページテーブルというテーブルで管理する
>
>#### ページイン
>
>補助記憶から主記憶への読み込み
>
>#### ページアウト
>
>主記憶から補助記憶へ
>
>### ページの置き換え
>
>- __FIFO__
>  
> 最初にページインしたものを追い出す
>
>- __LIFO__
>
> 最後にページインした物を追い出す
>
>- __LRU__
>
>最も長い間参照されていないページを追い出す
>
>
>- __LFU__
>
>最も参照回数の少ないページを追い出す

